<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Books Reader</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <!-- –û–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth-overlay" class="auth-overlay">
        <div class="auth-modal">
            <h2>üìö IT Books Reader</h2>
            <div id="firebase-status" style="margin-bottom: 15px;">
                <p style="color: #48bb78; font-size: 14px;">‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</p>
            </div>
            <div id="auth-container">
                <div id="login-form">
                    <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                    <div class="auth-options">
                        <button onclick="continueAsGuest()" class="guest-btn">
                            üë§ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å
                        </button>
                        <div class="divider">
                            <span>–∏–ª–∏</span>
                        </div>
                        <h4>–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</h4>
                        <input type="email" id="login-email" placeholder="–í–∞—à email" required>
                        <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                        <button onclick="login()">–í–æ–π—Ç–∏</button>
                        <button onclick="loginWithGoogle()" class="google-btn">
                            <img src="https://img.icons8.com/color/16/000000/google-logo.png" alt="Google">
                            –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
                        </button>
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegister()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </div>
                <div id="register-form" style="display: none;">
                    <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                    <input type="text" id="register-name" placeholder="–í–∞—à–µ –∏–º—è" required>
                    <input type="email" id="register-email" placeholder="Email" required>
                    <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    <button onclick="register()">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                    <button onclick="continueAsGuest()" class="guest-btn">
                        üë§ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å
                    </button>
                    <button onclick="showLogin()" class="back-btn">–ù–∞–∑–∞–¥</button>
                </div>
            </div>
            <div class="guest-note">
                <p><strong>–†–µ–∂–∏–º –≥–æ—Å—Ç—è:</strong> –í—ã –º–æ–∂–µ—Ç–µ —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥–∏ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, 
                –Ω–æ –æ–±–ª–∞—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.</p>
            </div>
        </div>
    </div>

    <div class="container">
        <header class="header">
            <h1>IT Books Reader</h1>
            <div class="user-info" id="user-info">
                <span id="user-name">–ì–æ—Å—Ç—å</span>
                <div class="user-buttons">
                    <button onclick="showLoginModal()" id="login-btn" style="display: none;">–í–æ–π—Ç–∏</button>
                    <button onclick="logout()" id="logout-btn" style="display: none;">–í—ã–π—Ç–∏</button>
                </div>
            </div>
            <div class="controls">
                <input type="file" id="file-input" accept=".txt,.pdf" style="display: none;">
                <button onclick="document.getElementById('file-input').click()">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–Ω–∏–≥—É</button>
                <button onclick="toggleTheme()">üåô –¢–µ–º–∞</button>
                <button onclick="increaseFont()">A+</button>
                <button onclick="decreaseFont()">A-</button>
                <button onclick="saveToCloud()" id="cloud-save-btn" style="display: none;">
                    ‚òÅÔ∏è –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ PDF -->
                <div id="pdf-controls" style="display: none;">
                    <button onclick="prevPage()">‚Üê</button>
                    <span id="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞: 1/1</span>
                    <button onclick="nextPage()">‚Üí</button>
                    <input type="range" id="page-slider" min="1" max="1" value="1" onchange="goToPage(this.value)">
                </div>
            </div>
        </header>

        <main class="reader">
            <div id="book-content" class="book-content">
                <div class="welcome-message">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ IT Books Reader!</h2>
                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–Ω–∏–≥—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ TXT –∏–ª–∏ PDF –¥–ª—è —á—Ç–µ–Ω–∏—è.</p>
                    <div class="features">
                        <div class="feature">
                            <span>üìñ</span>
                            <h4>–ß—Ç–µ–Ω–∏–µ –∫–Ω–∏–≥</h4>
                            <p>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ TXT –∏ PDF</p>
                        </div>
                        <div class="feature">
                            <span>üåô</span>
                            <h4>–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</h4>
                            <p>–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –¥–Ω–µ–º –∏ –Ω–æ—á—å—é</p>
                        </div>
                        <div class="feature">
                            <span>üîñ</span>
                            <h4>–ó–∞–∫–ª–∞–¥–∫–∏</h4>
                            <p>–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤–∞–∂–Ω—ã–µ –º–µ—Å—Ç–∞</p>
                        </div>
                        <div class="feature">
                            <span>‚òÅÔ∏è</span>
                            <h4>–û–±–ª–∞–∫–æ</h4>
                            <p>–í–æ–π–¥–∏—Ç–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è PDF -->
            <div id="pdf-viewer" style="display: none; width: 100%; text-align: center;"></div>
        </main>

        <div class="sidebar">
            <div class="bookmarks">
                <div class="bookmarks-header">
                    <h3>üîñ –ó–∞–∫–ª–∞–¥–∫–∏</h3>
                    <button onclick="addBookmark()" id="add-bookmark-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <ul id="bookmarks-list">
                    <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–Ω–∏–≥—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏</li>
                </ul>
                <div class="cloud-note" id="cloud-note">
                    <p>‚ö†Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏ (–≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)</p>
                </div>
            </div>

            <div class="cloud-library" id="cloud-library">
                <div class="library-header">
                    <h3>üìö –û–±–ª–∞—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞</h3>
                    <button onclick="showLoginModal()" id="cloud-login-btn">–í–æ–π—Ç–∏</button>
                </div>
                <div id="library-books">
                    <div class="cloud-info">
                        <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫:</p>
                        <ul>
                            <li>üìÅ –û–±–ª–∞—á–Ω–æ–º—É —Ö—Ä–∞–Ω–µ–Ω–∏—é –∫–Ω–∏–≥</li>
                            <li>üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏</li>
                            <li>üîñ –û–±–ª–∞—á–Ω—ã–º –∑–∞–∫–ª–∞–¥–∫–∞–º</li>
                            <li>‚öôÔ∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–∫</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="login-modal" class="login-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeLoginModal()">&times;</span>
            <h3>–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
            <p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–±–ª–∞—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º</p>
            <button onclick="loginWithGoogle()" class="google-btn modal-btn">
                <img src="https://img.icons8.com/color/16/000000/google-logo.png" alt="Google">
                –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
            </button>
            <div class="divider">
                <span>–∏–ª–∏</span>
            </div>
            <input type="email" id="modal-email" placeholder="Email">
            <input type="password" id="modal-password" placeholder="–ü–∞—Ä–æ–ª—å">
            <button onclick="modalLogin()">–í–æ–π—Ç–∏</button>
            <button onclick="showRegister()" class="register-btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
            <button onclick="closeLoginModal()" class="cancel-btn">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
